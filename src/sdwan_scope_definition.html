<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SD-WANåˆ·æ–°å¯¾è±¡ï¼šæ‹ ç‚¹ãƒ»ãƒ«ãƒ¼ã‚¿ãƒ¼ç®¡ç†åŒºåˆ† å®šç¾©æ›¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary: #0f172a; /* Slate 900 */
            --accent: #2563eb;  /* Blue 600 */
            --secondary: #64748b; /* Slate 500 */
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-color: #1e293b;
            --border-color: #e2e8f0;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            /* Cato Specific Colors */
            --cato-purple: #7b1fa2;
            --cato-light: #f3e5f5;
        }

        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }


        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 50px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        main h1 {
            font-size: 24px;
            font-weight: 900;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
            margin-top: 0;
        }

        main h1::before {
            content: '';
            display: block;
            width: 4px;
            height: 28px;
            background-color: var(--primary);
            border-radius: 2px;
        }

        h2 {
            font-size: 11px;
            font-weight: 900;
            color: var(--secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 48px;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 12px;
        }

        h2::before {
            content: '';
            width: 8px;
            height: 8px;
            background-color: var(--accent);
            border-radius: 50%;
        }


        h3 {
            color: var(--secondary);
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        p {
            margin-bottom: 15px;
            color: #444;
        }

        .scope-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
            margin-right: 10px;
        }

        .scope-in {
            background-color: #e6f4ea;
            color: var(--success);
            border: 1px solid var(--success);
        }

        .scope-out {
            background-color: #fce8e6;
            color: var(--danger);
            border: 1px solid var(--danger);
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-bottom: 32px;
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        th, td {
            padding: 16px 20px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
            font-size: 14px;
        }

        th {
            background-color: #f8fafc;
            font-weight: 900;
            color: var(--secondary);
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background-color: #f1f5f9;
        }


        .info-box {
            background-color: #e8f0fe;
            border-left: 5px solid var(--primary);
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 4px;
        }

        .info-box strong {
            color: var(--primary);
        }

        .router-type {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .router-card {
            flex: 1;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            background-color: #fff;
        }

        .router-card h4 {
            margin-top: 0;
            color: var(--primary);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
            font-size: 14px;
        }

        .detail-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .detail-list li {
            background: white;
            padding: 16px 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .detail-list li strong {
            display: block;
            font-size: 14px;
            color: var(--primary);
            margin-bottom: 5px;
        }

        /* Cato Layout Restoration */
        .cato-vis-wrapper {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 20px;
            margin-bottom: 30px;
        }

        .cato-narrative-panel {
            background-color: #fdfaff;
            border: 1px solid var(--cato-light);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .cato-step-card {
            background: white;
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid var(--cato-light);
            cursor: pointer;
            transition: all 0.3s;
        }

        .cato-step-card.active {
            border-left-color: var(--cato-purple);
            box-shadow: 0 4px 12px rgba(123, 31, 162, 0.1);
        }

        .cato-step-title {
            font-weight: 900;
            font-size: 13px;
            color: var(--cato-purple);
            display: block;
        }

        .cato-step-desc {
            font-size: 11px;
            color: var(--primary);
        }

        .note {
            font-size: 12px;
            color: var(--secondary);
            margin-top: 0;
        }

        sup a {
            text-decoration: none;
            color: var(--accent);
            font-weight: 900;
            margin: 0 2px;
            font-size: 10px;
        }

        sup a:hover {
            text-decoration: underline;
        }


        footer {
            margin-top: 60px;
            text-align: center;
            color: #888;
            font-size: 0.9rem;
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
        }

        .highlight {
            background-color: #fff8e1;
            padding: 2px 5px;
            border-radius: 4px;
            font-weight: bold;
        }

        /* Cato Specific Styles */
        .badge-socket { background: #e0f2fe; color: #0369a1; border: 1px solid #bae6fd; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 900; }
        .badge-client { background: #f0fdf4; color: #15803d; border: 1px solid #bbf7d0; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 900; }
        .glow { filter: drop-shadow(0 0 5px var(--cato-purple)); }

        /* D3 Viz Styles */
        #scope-diagram {
            width: 100%;
            height: 500px;
            background-color: #ffffff;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .node text {
            pointer-events: none;
            font-family: sans-serif;
            font-size: 11px;
        }
        
        .sc-legend {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #ddd;
            font-size: 11px;
            pointer-events: none;
        }
        .sc-legend-item { display: flex; align-items: center; gap: 5px; margin-bottom: 3px; }
        .sc-legend-dot { width: 8px; height: 8px; border-radius: 2px; }

        /* For D3 containers to hold relative legend */
        #scope-diagram, #cato-diagram { position: relative; }
        
        .tooltip {
            position: absolute;
            background-color: white;
            border: 1px solid #ccc;
            padding: 8px;
            border-radius: 4px;
            pointer-events: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 0.85rem;
            opacity: 0;
            transition: opacity 0.2s;
        }

        /* Stepper & Narrative Styles */
        .stepper-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 15px;
        }

        .step-btn {
            padding: 10px 20px;
            border: 2px solid var(--primary);
            background-color: transparent;
            color: var(--primary);
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
        }

        .step-btn.active, .step-btn:hover {
            background-color: var(--primary);
            color: white;
            box-shadow: 0 4px 6px rgba(26, 115, 232, 0.3);
        }

        .narrative-box {
            background-color: #f1f8ff;
            border-left: 5px solid var(--accent);
            padding: 20px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
            min-height: 80px;
        }

        .narrative-title {
            font-weight: bold;
            color: var(--accent);
            margin-bottom: 5px;
            display: block;
        }

        /* Building Cross-section Styles */
        .building-container {
            margin: 40px 0;
            perspective: 1000px;
        }

        .building-structure {
            display: flex;
            flex-direction: column;
            gap: 4px;
            max-width: 500px;
            margin: 0 auto;
        }

        .floor {
            position: relative;
            height: 50px;
            background: #f1f5f9;
            border: 2px solid #cbd5e1;
            border-radius: 4px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            transition: all 0.3s;
            overflow: hidden;
        }

        .floor::before {
            content: attr(data-floor);
            position: absolute;
            left: -40px;
            font-weight: 900;
            color: var(--secondary);
            font-size: 14px;
        }

        .floor.target {
            background: linear-gradient(90deg, #eff6ff 0%, #ffffff 100%);
            border-color: var(--accent);
            box-shadow: inset 4px 0 0 var(--accent);
        }

        .floor.excluded {
            background: #f8fafc;
            border-color: #e2e8f0;
            color: #94a3b8;
        }

        .floor.hpc {
            background: #fffbeb;
            border-color: var(--warning);
            box-shadow: inset 4px 0 0 var(--warning);
        }

        .floor-label {
            font-size: 13px;
            font-weight: 700;
        }

        .floor-status {
            margin-left: auto;
            font-size: 10px;
            font-weight: 900;
            padding: 2px 8px;
            border-radius: 4px;
            text-transform: uppercase;
        }

        .status-in { background: #dcfce7; color: #166534; }
        .status-out { background: #f1f5f9; color: #64748b; }
        .status-coord { background: #fef3c7; color: #92400e; }

        .building-roof {
            height: 10px;
            background: var(--primary);
            border-radius: 4px 4px 0 0;
            width: 100%;
            margin-bottom: 4px;
        }

        .building-ground {
            height: 4px;
            background: #64748b;
            width: 110%;
            margin-left: -5%;
            margin-top: 4px;
            border-radius: 2px;
        }
    </style>


    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body class="min-h-screen font-sans antialiased text-slate-700" style="font-family: 'Inter', 'Noto Sans JP', sans-serif;">

    <!-- Header Section -->
    <header class="bg-white border-b border-slate-200 shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 md:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-4">
                <a href="index.html"
                    class="flex items-center gap-2 text-slate-500 hover:text-brand-navy transition-colors text-sm font-medium">
                    <svg class="w-3 h-3 flex-shrink-0" style="width: 12px; height: 12px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                    </svg>
                    ãƒãƒ¼ã‚¿ãƒ«ã¸æˆ»ã‚‹
                </a>
                <div class="h-4 w-px bg-slate-300 mx-2" style="width: 1px; height: 16px; background-color: #cbd5e1;"></div>
                <span class="text-base font-bold text-slate-700">SD-WANåˆ·æ–°ï¼šæ‹ ç‚¹ãƒ»ãƒ«ãƒ¼ã‚¿ãƒ¼ç®¡ç†åŒºåˆ† å®šç¾©æ›¸</span>
            </div>
            <div class="flex items-center gap-3">
                <span
                    class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-50 text-blue-700 border border-blue-200">
                    ğŸ”„ æœ€çµ‚æ›´æ–°ï¼š2026/02/12 | å¯¾è±¡ï¼š89+å (AH/AD)
                </span>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-4 md:p-8 space-y-8">

<div class="container" style="max-width: 100%; padding: 0; box-shadow: none; background: transparent; border-radius: 0;">
    
    <div class="info-box" style="background: #f1f5f9; border: none; border-radius: 8px; padding: 24px;">
        <p style="font-size: 14px; color: var(--primary); margin-bottom: 0;">
            æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€SD-WANå°å…¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãŠã‘ã‚‹å¯¾è±¡ç¯„å›²ï¼ˆã‚¹ã‚³ãƒ¼ãƒ—ï¼‰ã¨ã€å„æ‹ ç‚¹ã«ãŠã‘ã‚‹ãƒ«ãƒ¼ã‚¿ãƒ¼ç®¡ç†ã®è²¬ä»»åˆ†ç•Œç‚¹ã‚’å®šç¾©ã™ã‚‹ã‚‚ã®ã§ã™ã€‚
        </p>
    </div>


    <!-- 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ã‚³ãƒ¼ãƒ—å®šç¾© -->
    <h2>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ã‚³ãƒ¼ãƒ—å®šç¾© (ä¼æ¥­åˆ¥)</h2>
    <div class="info-box">
        <p><strong>åŸºæœ¬æ–¹é‡ (CIOæŒ‡ç¤º 2026/02/12):</strong></p>
        <p>
            æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€<strong>AH (Akiba Holdings)</strong> ã‚°ãƒ«ãƒ¼ãƒ—å…¨ä½“ã®ã‚¬ãƒãƒŠãƒ³ã‚¹å¼·åŒ–ã‚’ç›®çš„ã¨ã—ã¾ã™ãŒã€
            åˆæœŸå°å…¥ãƒ•ã‚§ãƒ¼ã‚ºã«ãŠã„ã¦ã¯ã€ä»¥ä¸‹ã®ä¼æ¥­ãƒ»äº‹æ¥­ä½“ã‚’å¯¾è±¡ã¨ã—ã¾ã™ã€‚
        </p>
    </div>

    <div class="stepper-container">
        <button class="step-btn active sub-step" onclick="updateScenario(1)">1. ç¾çŠ¶ (å…¨ä½“åƒ)</button>
        <button class="step-btn sub-step" onclick="updateScenario(2)">2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¯¾è±¡ç¯„å›²</button>
    </div>

    <!-- Main Scope View -->
    <div id="view-iij">
        <div id="scope-diagram"></div>
    </div>

    <!-- Section removed: Cato Dedicated Link merged here -->
    
    <!-- Narrative Text -->
    <div id="narrative" class="narrative-box">
        <span class="narrative-title">Step 1: ç¾çŠ¶ (å…¨ä½“åƒ)</span>
        <span id="narrative-text">Akiba Holdingsã‚°ãƒ«ãƒ¼ãƒ—å…¨ä½“ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã§ã™ã€‚ä¸»ãªç®¡ç†å¯¾è±¡ã§ã‚ã‚‹AH<sup>[1]</sup>, AD<sup>[1]</sup>, DP&R<sup>[6]</sup>ã«åŠ ãˆã€é™¤å¤–æ‹ ç‚¹ã§ã‚ã‚‹ãƒãƒ‡ã‚£ãƒãƒƒãƒˆ<sup>[10]</sup>ãªã©ãŒæ··åœ¨ã—ã¦ã„ã¾ã™ã€‚</span>
    </div>


    <div style="text-align: center; margin-top: 10px; margin-bottom: 30px; font-size: 0.85rem; color: #666;">
        <span style="color: #1a73e8;">â—</span> å¯¾è±¡æ‹ ç‚¹(Type A) / <span style="color: #999;">â—</span> é™¤å¤–ãƒ»ç®¡ç†å¤– / <span style="color: #1e8e3e;">â€•</span> ç®¡ç†NW
    </div>

    <table style="box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
        <thead>
            <tr>
                <th style="width: 20%;">ç•¥ç§°</th>
                <th style="width: 40%;">æ­£å¼åç§°</th>
                <th style="width: 15%;">åˆ¤å®š</th>
                <th>å‚™è€ƒ</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>AH</strong></td>
                <td>AKIBA Holdings Co., Ltd.<br>(æ ªå¼ä¼šç¤¾AKIBAãƒ›ãƒ¼ãƒ«ãƒ‡ã‚£ãƒ³ã‚°ã‚¹)<sup>[<a href="#ev-1">1</a>]</sup></td>
                <td><span class="scope-badge scope-in">å¯¾è±¡</span></td>
                <td>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸»ç®¡ã€‚æ±äº¬æœ¬ç¤¾(6F): 21åã€äº¬æ©‹: 5åã€‚</td>
            </tr>
            <tr>
                <td><strong>AD</strong></td>
                <td>ADTEC Corporation<br>(æ ªå¼ä¼šç¤¾ã‚¢ãƒ‰ãƒ†ãƒƒã‚¯)<sup>[<a href="#ev-1">1</a>]</sup></td>
                <td><span class="scope-badge scope-in">å¯¾è±¡</span></td>
                <td>ä¸»è¦äº‹æ¥­ä½“ã€‚æ±äº¬(36å)ã€å¤§é˜ª(3å)ã€R&D(12å)ã€æ©‹æœ¬(9å)ã€ä»™å°(3å)ã€‚</td>
            </tr>
            <tr>
                <td><strong>DP&R</strong></td>
                <td>Diamond Pets & Resort<br>(æ ªå¼ä¼šç¤¾ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ãƒšãƒƒãƒ„ï¼†ãƒªã‚¾ãƒ¼ãƒˆ)<sup>[<a href="#ev-6">6</a>]</sup></td>
                <td><span class="scope-badge scope-in">å¯¾è±¡</span></td>
                <td>é¬¼æ€’å·çµ†ï¼ˆæ¸©æ³‰æ—…é¤¨ï¼‰ã‚’å«ã‚€ã€‚å®Ÿæ•°: <strong>13å</strong>ï¼ˆäººäº‹å›ç­”ï¼‰ã€‚ç¾å ´å®Ÿåˆ©ç”¨æ•°ã‚’ç¢ºèªä¸­ã€‚</td>
            </tr>
            <tr>
                <td><strong>HPC Tech</strong></td>
                <td>æ ªå¼ä¼šç¤¾HPCãƒ†ãƒƒã‚¯<sup>[<a href="#ev-13">13</a>]</sup></td>
                <td><span class="scope-badge scope-out">é™¤å¤–</span></td>
                <td>å¡©ç”°å®¤é•·æŒ‡ç¤º(2/12)ã«ã‚ˆã‚Šå¯¾è±¡å¤–ã€‚ç‹¬è‡ªã®NWé‹ç”¨ã€‚</td>
            </tr>
            <tr>
                <td><strong>Buddynet</strong></td>
                <td>æ ªå¼ä¼šç¤¾ãƒãƒ‡ã‚£ãƒãƒƒãƒˆ<sup>[<a href="#ev-10">10</a>]</sup></td>
                <td><span class="scope-badge scope-out">é™¤å¤–</span></td>
                <td>ç‹¬è‡ªã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ›´æ”¹ã‚’å®Ÿæ–½ä¸­ã€‚â€»Secomãƒ­ã‚°åé›†(Type B)ã®ã¿æ¥ç¶šã€‚</td>
            </tr>
        </tbody>
    </table>

    <!-- 1.1 æœ¬ç¤¾ãƒ“ãƒ« ãƒ•ãƒ­ã‚¢æ§‹æˆå›³ (è¿½åŠ ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼šéšæ•°æ˜è¨˜) -->
    <h3 style="font-size: 11px; font-weight: 900; color: var(--secondary); text-transform: uppercase; letter-spacing: 0.1em; display: flex; align-items: center; gap: 8px; margin-top: 40px; margin-bottom: 20px;">ğŸ¢ ç¯‰åœ°æœ¬ç¤¾ (ADãƒ“ãƒ«) æ–­é¢å›³</h3>
    <div class="building-container">
        <div class="building-structure">
            <div class="building-roof"></div>
            
            <div class="floor target" data-floor="7F">
                <span class="floor-label">7F: ADTEC (å–¶æ¥­ãƒ»ç®¡ç†)</span>
                <span class="floor-status status-in">ç®¡ç†å¯¾è±¡</span>
            </div>
            
            <div class="floor target" data-floor="6F">
                <span class="floor-label">6F: AKIBA HD (ãƒ›ãƒ¼ãƒ«ãƒ‡ã‚£ãƒ³ã‚°ã‚¹æœ¬éƒ¨)</span>
                <span class="floor-status status-in">ç®¡ç†å¯¾è±¡</span>
            </div>
            
            <div class="floor excluded" data-floor="5F">
                <span class="floor-label">5F: BuddyNet (ã‚ªãƒ•ã‚£ã‚¹ãƒ»ã‚³ãƒ¼ãƒ«ã‚»ãƒ³ã‚¿ãƒ¼)</span>
                <span class="floor-status status-out">ç®¡ç†å¤–</span>
            </div>
            
            <div class="floor excluded" data-floor="4F">
                <span class="floor-label">4F: BuddyNet (ã‚³ãƒ¼ãƒ«ã‚»ãƒ³ã‚¿ãƒ¼ãƒ•ãƒ­ã‚¢ B)</span>
                <span class="floor-status status-out">ç®¡ç†å¤–</span>
            </div>
            
            <div class="floor excluded" data-floor="3F">
                <span class="floor-label">3F: BuddyNet (ã‚³ãƒ¼ãƒ«ã‚»ãƒ³ã‚¿ãƒ¼ãƒ•ãƒ­ã‚¢ C)</span>
                <span class="floor-status status-out">ç®¡ç†å¤–</span>
            </div>

            <div class="building-ground"></div>
        </div>
        <p class="note" style="text-align: center; margin-top: 20px;">
            â€»ç¯‰åœ°ADãƒ“ãƒ«å†…ã®ç®¡è½„åŒºåˆ†ã‚’ç¤ºã—ã¾ã™ã€‚HPCãƒ†ãƒƒã‚¯ã¯åˆ¥å»ºç‰©ï¼ˆæ—¥æœ¬æ©‹å¯Œæ²¢ç”ºæ‹ ç‚¹ï¼‰ã®ãŸã‚ã€æœ¬å›³ã‹ã‚‰ã¯é™¤å¤–ã—ã¦ã„ã¾ã™ã€‚<sup>[<a href="#ev-13">13</a>]</sup>
        </p>
    </div>

    <h2>2. å¯¾è±¡æ‹ ç‚¹ä¸€è¦§ (è¨ˆ7æ‹ ç‚¹)</h2>
    <p>
        ä¸Šè¨˜ã‚¹ã‚³ãƒ¼ãƒ—å®šç¾©ãŠã‚ˆã³æœ€æ–°ãƒ’ã‚¢ãƒªãƒ³ã‚°ã«åŸºã¥ãã€SD-WANï¼ˆã¾ãŸã¯Catoï¼‰ã‚’å°å…¥ã™ã¹ãå¯¾è±¡æ‹ ç‚¹ã¯ä»¥ä¸‹ã®<strong>7æ‹ ç‚¹</strong>ã¨å®šç¾©ã—ã¾ã™ã€‚
    </p>

    <div class="card">
        <h3>ğŸ” æ‹ ç‚¹è©³ç´°ãƒ»ç‰¹æ®Šè¦ä»¶ (ãƒ’ã‚¢ãƒªãƒ³ã‚°çµæœåæ˜ )</h3>
        <ul class="detail-list">
            <li>
                <strong>æ±äº¬æœ¬ç¤¾ (6F/7F) - [å¯¾è±¡]</strong>:
                <span class="note">AH 21å + AD 36å = <strong>è¨ˆ57å</strong>ã€‚ã‚³ã‚¢NWã®ãƒãƒ–ã€‚</span>
            </li>
            <li>
                <strong>äº¬æ©‹ã‚ªãƒ•ã‚£ã‚¹ - [å¯¾è±¡/æ–°è¦]</strong>:
                <span class="note">AH <strong>5å</strong>ã€‚ãƒ¢ãƒã‚¤ãƒ«/Cato Clientæ¥ç¶šã‚’æƒ³å®šã€‚</span>
            </li>
            <li>
                <strong>R&Dãƒ»ç‰©æµã‚»ãƒ³ã‚¿ãƒ¼ (å¤šæ‘©) - [å¯¾è±¡]</strong>:
                <span class="note">AD <strong>12å</strong> (æ´¾é£/å˜±è¨—å«ã‚€)ã€‚ãƒãƒ¼ãƒ‰é–‹ç™ºãƒ»ç‰©æµæ‹ ç‚¹ã€‚</span>
            </li>
             <li>
                <strong>IoTé–‹ç™ºLab (æ©‹æœ¬) - [å¯¾è±¡]</strong>:
                <span class="note">AD <strong>9å</strong>ã€‚IoTé–‹ç™ºæ‹ ç‚¹ã€‚</span>
            </li>
            <li>
                <strong>å¤§é˜ªå–¶æ¥­æ‰€ (å¤§é˜ª) - [å¯¾è±¡]</strong>:
                <span class="note">AD <strong>3å</strong>ã€‚å°è¦æ¨¡å–¶æ¥­æ‹ ç‚¹ã€‚</span>
            </li>
            <li>
                <strong>ä»™å°äº‹å‹™æ‰€ (ä»™å°) - [å¯¾è±¡/æ–°è¦]</strong>:
                <span class="note">AD <strong>3å</strong>ã€‚å½“åˆãƒªã‚¹ãƒˆã‚ˆã‚Šæ¼ã‚Œã¦ã„ãŸç¬¬9æ‹ ç‚¹ã€‚</span>
            </li>
            <li>
                <strong>é¬¼æ€’å· çµ† (DP&R) - [å¯¾è±¡]</strong>:
                <span class="note">DP&Rç®¡ç†ã€‚æ­£ç¤¾å“¡<strong>13å</strong>ï¼ˆ+ã‚¢ãƒ«ãƒã‚¤ãƒˆ6å / è¢«ç¹å¿™æœŸã¯æ´¾é£+10åå¢—ï¼‰ã€‚æ¥­å‹™NWã‚’å¯¾è±¡ã¨ã™ã‚‹ã€‚</span>
            </li>
            <li>
                <strong>ç¦å²¡ / åå¤å±‹ / å’Œæ­Œå±± / äº¬æ©‹(BN) - [é™¤å¤–/Type B]</strong>:
                <span class="note">Secomãƒ­ã‚°å¸ã„ä¸Šã’ã®ã¿æ¥ç¶šã€‚SD-WANåˆ·æ–°å¯¾è±¡å¤–ã€‚</span>
            </li>
        </ul>
    </div>



    <div id="standard-scope-table">
        <table>
            <thead>
                <tr>
                    <th>No.</th>
                    <th>æ‹ ç‚¹å</th>
                    <th>æ‰€å±</th>
                    <th>ãƒ«ãƒ¼ã‚¿ãƒ¼ç®¡ç†</th>
                    <th>ç¾çŠ¶/èª²é¡Œ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td><strong>æ±äº¬æœ¬ç¤¾ (ç¯‰åœ° 6F/7F)</strong></td>
                    <td>AH / AD</td>
                    <td><strong>Type A</strong></td>
                    <td>é‡è¦æ‹ ç‚¹ã€‚AH 21å / AD 36åã€‚</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td><strong>R&Dãƒ»ç‰©æµã‚»ãƒ³ã‚¿ãƒ¼ (å¤šæ‘©)</strong></td>
                    <td>AD</td>
                    <td><strong>Type A</strong></td>
                    <td>12åã€‚ãƒãƒ¼ãƒ‰é–‹ç™ºãƒ»ç‰©æµæ‹ ç‚¹ã€‚</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td><strong>IoTé–‹ç™ºLab (æ©‹æœ¬)</strong></td>
                    <td>AD</td>
                    <td><strong>Type A</strong></td>
                    <td>9åã€‚ãƒ«ãƒ¼ã‚¿ãƒ¼å…¥æ›¿å¯¾è±¡ã€‚</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td><strong>å¤§é˜ªå–¶æ¥­æ‰€ (å¤§é˜ª)</strong></td>
                    <td>AD</td>
                    <td><strong>Type A</strong></td>
                    <td>3åã€‚BNå¤§é˜ªæ”¯åº—ã¨åŒå±…ã€‚</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td><strong>äº¬æ©‹ã‚ªãƒ•ã‚£ã‚¹</strong></td>
                    <td>AH</td>
                    <td><span style="color: #f57f17; font-weight: bold;">æ–°è¦å¯¾è±¡</span></td>
                    <td>5åã€‚ãƒ¢ãƒã‚¤ãƒ«/Clientæ¥ç¶šã€‚</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td><strong>ä»™å°äº‹å‹™æ‰€ (ä»™å°)</strong></td>
                    <td>AD</td>
                    <td><span style="color: #f57f17; font-weight: bold;">æ–°è¦å¯¾è±¡</span></td>
                    <td>3åã€‚Clientçµ±åˆã«ã‚ˆã‚‹ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã€‚</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td><strong>é¬¼æ€’å· çµ†</strong></td>
                    <td>DP&R</td>
                    <td><span style="color: #f57f17; font-weight: bold;">æ–°è¦å¯¾è±¡</span></td>
                    <td>13å(æ­£ç¤¾å“¡)ã€‚ç¾å ´å®Ÿåˆ©ç”¨æ•°ã‚’ç¢ºèªä¸­ã€‚</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <!-- 1.2 IIJåˆ·æ–°å¯¾è±¡ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆæ¡ˆ -->
    <section id="iij-scope-diagram-section">
        <h3>1.2 IIJåˆ·æ–°å¯¾è±¡ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆæ¡ˆ (8æ‹ ç‚¹)</h3>
        <div class="info-box" style="background: #eff6ff; border-color: #3b82f6;">
            <p style="font-size: 13px; color: #1e40af; margin-bottom: 0;">
                <strong>IIJåˆ·æ–°å¯¾è±¡ï¼ˆ8æ‹ ç‚¹ + IIJ GIOï¼‰</strong>ã®æ§‹æˆæ¡ˆã§ã™ã€‚<br>
                â€»IIJææ¡ˆãƒ™ãƒ¼ã‚¹ã®8æ‹ ç‚¹æ§‹æˆï¼ˆç¯‰åœ°ãƒ»å¤§é˜ªãƒ»å¤šæ‘©ãƒ»æ©‹æœ¬ãƒ»åå¤å±‹ãƒ»ç¦å²¡ãƒ»å’Œæ­Œå±±ãƒ»äº¬æ©‹ï¼‰ã‚’ç¶­æŒã—ã¦ã„ã¾ã™ã€‚
            </p>
        </div>
        <div id="iij-diagram" style="height: 500px; background: white; border: 1px solid var(--border-color); border-radius: 8px; margin-top: 20px; position: relative;"></div>
    </section>

    <!-- 1.3 Cato SASE ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆæ¡ˆ (æ¯”è¼ƒç”¨) -->
    <section id="cato-scope-diagram-section" style="margin-top: 40px;">
        <h3>1.3 Cato SASE ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆæ¡ˆ (IIJ + ä»™å°æ‹¡å¼µãƒ¢ãƒ‡ãƒ«)</h3>
        <div class="info-box" style="background: #fdfaff; border-color: #7b1fa2;">
            <p style="font-size: 13px; color: #7b1fa2; margin-bottom: 0;">
                <strong>Cato SASEææ¡ˆï¼ˆæ§‹æˆæ¡ˆï¼šå…¨9æ‹ ç‚¹ = Socket 2 + Client 7ï¼‰</strong><br>
                â€»<strong>ãƒ™ãƒ¼ã‚¹</strong>: IIJã®8æ‹ ç‚¹æ§‹æˆ + ä»™å°(æ–°è¦è¿½åŠ ) - IIJ GIOã‚µãƒ¼ãƒãƒ¼(Azure/AWSã«ç½®æ›)<br>
                â€»<strong>Socketè¨­ç½®</strong>: æ±äº¬æœ¬ç¤¾ AH 6F(57å) + Azure/AWS(AD + SECOMå…¥é€€å®¤ç®¡ç†ã‚µãƒ¼ãƒãƒ¼) = 2æ‹ ç‚¹<br>
                â€»<strong>Clientæ¥ç¶š</strong>: ADæœ¬ç¤¾ 7Fã€å¤šæ‘©ã€æ©‹æœ¬ã€å¤§é˜ªã€äº¬æ©‹ã€é¬¼æ€’å·ã€ä»™å°(æ–°è¦) = 7æ‹ ç‚¹<br>
                â€»<strong>å¯¾è±¡å¤–</strong>: HPCãƒ†ãƒƒã‚¯ã€BNç³»4æ‹ ç‚¹ï¼ˆç¦å²¡ã€åå¤å±‹ã€å’Œæ­Œå±±CCã€æ±äº¬3-5Fï¼‰<br>
                <span style="font-weight: 700; color: #c2185b;">âš ï¸ Socket/Clienté…åˆ†ã¯ä»®èª¬ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚ãƒ™ãƒ³ãƒ€ãƒ¼ææ¡ˆã‚’å¾…ã£ã¦æœ€çµ‚æ±ºå®šã—ã¾ã™ã€‚</span><br>
                <span style="font-weight: 700; color: #f59e0b;">âš ï¸ ç¢ºèªäº‹é …: Azure/AWSã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã¸ã®Socketè¨­ç½®ã®æŠ€è¡“çš„å®Ÿè£…æ–¹æ³•ã‚’æ˜ç¢ºåŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</span>
            </p>
        </div>
        <div id="cato-scope-diagram" style="height: 500px; background: white; border: 1px solid var(--border-color); border-radius: 8px; margin-top: 20px; position: relative;"></div>
    </section>

    <!-- 3. ãƒ«ãƒ¼ã‚¿ãƒ¼ç®¡ç†åŒºåˆ† -->
    <h2>3. ãƒ«ãƒ¼ã‚¿ãƒ¼ç®¡ç†åŒºåˆ† (Type A vs Type B)<sup>[<a href="#ev-7">7</a>]</sup></h2>
    <p>
        ç¯ éƒ¨é•·ãƒ’ã‚¢ãƒªãƒ³ã‚°(2026/02/12)<sup>[<a href="#ev-7">7</a>]</sup>ã«ã‚ˆã‚Šã€æ—¢å­˜ãƒ«ãƒ¼ã‚¿ãƒ¼ã¯ä»¥ä¸‹ã®2ã‚¿ã‚¤ãƒ—ã«åˆ†é¡ã•ã‚Œã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚<br>
        æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸»ãŸã‚‹ãƒªãƒ—ãƒ¬ãƒ¼ã‚¹å¯¾è±¡ã¯ <strong>Type A</strong> ã§ã™ã€‚
    </p>

    <div class="router-type">
        <div class="router-card" style="border-top: 5px solid var(--primary);">
            <h4>Type A: å®Œå…¨ç®¡ç†å‹<sup>[<a href="#ev-7">7</a>]</sup></h4>
            <p><strong>æ¦‚è¦:</strong> ç§‹è‘‰æƒ…ã‚·ã‚¹ãŒãƒ«ãƒ¼ã‚¿ãƒ¼ãŠã‚ˆã³ãã®é…ä¸‹ã®LANãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¾ã§ã‚’ç®¡ç†ã—ã¦ã„ã‚‹ã€‚</p>
            <p><strong>ç”¨é€”:</strong> æ¥­å‹™PCã€ã‚µãƒ¼ãƒãƒ¼ã€ãƒ—ãƒªãƒ³ã‚¿ç­‰ã®æ¥ç¶šã€‚</p>
            <p><strong>å¯¾è±¡æ‹ ç‚¹:</strong> æ±äº¬(6F/7F), å¤§é˜ªå–¶æ¥­æ‰€, R&D(å¤šæ‘©), IoT Lab(æ©‹æœ¬)</p>
            <div class="note">âœ… SD-WANãƒªãƒ—ãƒ¬ãƒ¼ã‚¹ã®æœ€å„ªå…ˆå¯¾è±¡ã€‚LBOã«ã‚ˆã‚‹é«˜é€ŸåŒ–ã®æ©æµå¤§ã€‚</div>
        </div>

        <div class="router-card" style="border-top: 5px solid var(--secondary); background-color: #f9f9f9;">
            <h4>Type B: Secomãƒ­ã‚°åé›†å°‚ç”¨ (ç®¡ç†å¤–)<sup>[<a href="#ev-10">10</a>]</sup></h4>
            <p><strong>æ¦‚è¦:</strong> ãƒ«ãƒ¼ã‚¿ãƒ¼ã¯å­˜åœ¨ã™ã‚‹ãŒã€é…ä¸‹ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ç®¡ç†ã—ã¦ã„ãªã„ï¼ˆãƒãƒ‡ã‚£ãƒãƒƒãƒˆç­‰ãŒç®¡ç†ï¼‰ã€‚</p>
            <p><strong>ç”¨é€”:</strong> <strong>Secomã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒœãƒƒã‚¯ã‚¹</strong>ï¼ˆå…¥é€€å®¤ãƒ­ã‚°ï¼‰ã®é€šä¿¡ã®ã¿ã€‚</p>
            <p><strong>æ§‹æˆ:</strong> ONU â†’ Hub â†’ Router â†’ Secom Box</p>
            <p><strong>å¯¾è±¡æ‹ ç‚¹:</strong> ç¦å²¡, å’Œæ­Œå±±, äº¬æ©‹, åå¤å±‹, æ±äº¬(3F-5F)<sup>[<a href="#ev-10">10</a>]</sup></p>
            <div class="note">âš ï¸ ä»Šå›ã®SD-WANå°å…¥ã‚¹ã‚³ãƒ¼ãƒ—ã‹ã‚‰ã¯<strong>é™¤å¤–</strong>ã€‚<br>â€»ãŸã ã—ã€å°†æ¥çš„ãªçµ±åˆã®ä½™åœ°ã¯æ®‹ã™ã€‚</div>
        </div>
    </div>


    <!-- 4. ç‰¹åˆ¥è€ƒæ…®äº‹é … -->
    <h2>4. ç‰¹åˆ¥è€ƒæ…®äº‹é …ãƒ»ä»£æ›¿æ¡ˆ</h2>

    <h3>ğŸ” å°è¦æ¨¡æ‹ ç‚¹å‘ã‘ï¼šãƒ¢ãƒã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹/è»½é‡GWæ¡ˆ</h3>
    <p>
        ä»™å°(3å)ã‚„å¤§é˜ª(4å)ã®ã‚ˆã†ãªå°è¦æ¨¡æ‹ ç‚¹ã«å¯¾ã—ã€é«˜ä¾¡ãªSD-WANãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’è¨­ç½®ã™ã‚‹ã®ã¯è²»ç”¨å¯¾åŠ¹æœãŒä½ã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™<sup>[<a href="#ev-11">11</a>]</sup>ã€‚
    </p>
    <ul>
        <li><strong>ä»£æ›¿æ¡ˆ:</strong> ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¬ã‚¹æ§‹æˆï¼ˆCato Client / ãƒ¢ãƒã‚¤ãƒ«ãƒ«ãƒ¼ã‚¿ãƒ¼ç­‰ï¼‰ã«ã‚ˆã‚‹æ¥ç¶š<sup>[<a href="#ev-12">12</a>]</sup>ã€‚</li>
        <li><strong>ãƒ¡ãƒªãƒƒãƒˆ:</strong> ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚³ã‚¹ãƒˆå‰Šæ¸›ã€å°å…¥ã‚¹ãƒ”ãƒ¼ãƒ‰å‘ä¸Šã€‚</li>
        <li><strong>æ¤œè¨¼èª²é¡Œ:</strong> <span class="highlight">Secomã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãƒœãƒƒã‚¯ã‚¹ã®æ¥ç¶šè¦ä»¶</span>ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚<br>
            (ç‰©ç†ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’æ’é™¤ã—ãŸå ´åˆã€Secomæ©Ÿå™¨ãŒã©ã†é€šä¿¡ã™ã‚‹ã‹ï¼Ÿ)</li>
    </ul>


    <h3>ğŸ¢ å¤§é˜ªæ”¯åº—ã®æ§‹æˆ</h3>
    <ul>
        <li>ç‰©ç†çš„ã«ã€ŒAKIBAç”¨ãƒ«ãƒ¼ã‚¿ãƒ¼ã€ã¨ã€Œãƒãƒ‡ã‚£ç”¨ãƒ«ãƒ¼ã‚¿ãƒ¼ã€ã®2å°ãŒå­˜åœ¨ã—ã€Hubã§åˆ†å²ã—ã¦ã„ã‚‹ã€‚</li>
        <li>ãƒãƒ‡ã‚£ãƒãƒƒãƒˆãŒç‹¬è‡ªã«Catoå°å…¥ã‚’é€²ã‚ãŸå ´åˆã€Hubä»¥ä¸‹ã®æ§‹æˆå¤‰æ›´ï¼ˆå…±ç”¨å»ƒæ­¢ãªã©ï¼‰ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚</li>
    </ul>

    <!-- 4.5. ãƒ™ãƒ³ãƒ€ãƒ¼ã¸ã®ç¢ºèªäº‹é … -->
    <h2>4.5 ãƒ™ãƒ³ãƒ€ãƒ¼ã¸ã®ç¢ºèªäº‹é …</h2>

    <div class="info-box" style="background: #fffbeb; border: 2px solid #f59e0b; padding: 20px;">
        <h3 style="color: #f59e0b; margin-top: 0;">ğŸ” é‡è¦ãªæœªç¢ºèªäº‹é …</h3>

        <h4 style="color: #ea580c; margin-top: 20px;">1. Azure/AWSã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã¸ã®Socketè¨­ç½®æ–¹æ³•</h4>
        <ul>
            <li><strong>ç¢ºèªå…ˆ</strong>: Cato (SCSKçµŒç”±)</li>
            <li><strong>å†…å®¹</strong>: Azure/AWSä¸Šã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒãƒ¼ï¼ˆAD + SECOMå…¥é€€å®¤ç®¡ç†ï¼‰ã«Cato Socketã‚’ã©ã®ã‚ˆã†ã«è¨­ç½®ã™ã‚‹ã‹ï¼ŸæŠ€è¡“çš„å®Ÿè£…æ–¹æ³•ã®è©³ç´°</li>
            <li><strong>é‡è¦åº¦</strong>: é«˜ï¼ˆæ§‹æˆã®å®Ÿç¾å¯èƒ½æ€§ã«ç›´çµï¼‰</li>
        </ul>

        <h4 style="color: #ea580c; margin-top: 20px;">2. ãƒ¢ãƒã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹/ãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å½¢æ…‹</h4>
        <ul>
            <li><strong>ç¢ºèªå…ˆ</strong>: IIJ, Cato (SCSKçµŒç”±)</li>
            <li><strong>å†…å®¹</strong>:
                <ul>
                    <li>ãƒ¢ãƒã‚¤ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆ50åæƒ³å®šï¼‰ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯ã€æœ¬ç¤¾ã§æ¥ç¶šã—ã¦ã‚‚è‡ªå®…ã§æ¥ç¶šã—ã¦ã‚‚åŒã˜1ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ã‹ï¼Ÿ</li>
                    <li>ãã‚Œã¨ã‚‚ã€Œæ‹ ç‚¹æ¥ç¶šç”¨Clientã€ã¨ã€Œãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹ç”¨Clientã€ã¯åˆ¥ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‹ï¼Ÿ</li>
                    <li>IIJã®ã€Œãƒ¢ãƒã‚¤ãƒ«50åã€ã®å…·ä½“çš„ãªå†…å®¹ã¨æ–™é‡‘</li>
                </ul>
            </li>
            <li><strong>é‡è¦åº¦</strong>: é«˜ï¼ˆã‚³ã‚¹ãƒˆè©¦ç®—ã«ç›´çµï¼‰</li>
            <li><strong>å‚è€ƒ</strong>: `SD-WANåˆ·æ–°_3ç¤¾4ã‚·ãƒŠãƒªã‚ªæ¯”è¼ƒæ¤œè¨è³‡æ–™.html` ã«ã€Œ8æ‹ ç‚¹ + ãƒ¢ãƒã‚¤ãƒ«50åã€ã¨ã„ã†æƒ³å®šã‚ã‚Š</li>
        </ul>

        <h4 style="color: #ea580c; margin-top: 20px;">3. IIJ Omnibus ã®è©³ç´°ææ¡ˆ</h4>
        <ul>
            <li><strong>ç¢ºèªå…ˆ</strong>: IIJï¼ˆæ¬¡å›MTGäºˆå®šï¼‰</li>
            <li><strong>å†…å®¹</strong>:
                <ul>
                    <li>8æ‹ ç‚¹ + ãƒ¢ãƒã‚¤ãƒ«50åã®æ­£å¼è¦‹ç©ã‚‚ã‚Š</li>
                    <li>ãƒ­ãƒ¼ã‚«ãƒ«ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆã®è©³ç´°ä»•æ§˜</li>
                    <li>ãƒªãƒ¢ãƒ¼ãƒˆã‚¢ã‚¯ã‚»ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ã®è©³ç´°</li>
                </ul>
            </li>
            <li><strong>é‡è¦åº¦</strong>: é«˜ï¼ˆIIJã¨ã®æ¯”è¼ƒæ¤œè¨ã«å¿…é ˆï¼‰</li>
            <li><strong>çŠ¶æ³</strong>: 2025-12-12 MTGã§æ¬¡å›ææ¡ˆã™ã‚‹ã“ã¨ãŒæ±ºå®š</li>
        </ul>
    </div>

    <!-- 5. Cato SASE é«˜åº¦è¨­è¨ˆæ¡ˆ -->
    <h2>5. Cato SASE é«˜åº¦è¨­è¨ˆæ¡ˆï¼ˆIIJ + ä»™å°æ‹¡å¼µãƒ¢ãƒ‡ãƒ« / å…¨9æ‹ ç‚¹ï¼‰</h2>
    <p>
        SASEã«ã‚ˆã‚‹æ‹ ç‚¹æ§‹æˆã®å…·ä½“æ¡ˆã§ã™ã€‚<strong>IIJã®8æ‹ ç‚¹æ§‹æˆã‚’ãƒ™ãƒ¼ã‚¹ã«ä»™å°ã‚’è¿½åŠ </strong>ã—ã€åˆè¨ˆ9æ‹ ç‚¹ã‚’ã‚«ãƒãƒ¼ã—ã¾ã™ã€‚<br>
        <strong>Socketè¨­ç½®ã¯æ±äº¬æœ¬ç¤¾ AH 6Fã¨Azure/AWSã®ã¿</strong>ã¨ã—ã€<strong>ä»–ã®7æ‹ ç‚¹ï¼ˆADæœ¬ç¤¾7Fã€å¤šæ‘©ã€æ©‹æœ¬ã€å¤§é˜ªã€äº¬æ©‹ã€é¬¼æ€’å·ã€ä»™å°ï¼‰ã¯å…¨ã¦Clientæ¥ç¶š</strong>ã§PoPã¸é›†ç´„ã€‚<br>
        ã‚³ã‚¹ãƒˆã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’ä¸¡ç«‹ã™ã‚‹æœ€é©åŒ–ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚<br>
        <span style="color: #c2185b; font-weight: 700;">â€»ã“ã®æ§‹æˆã¯ä»®èª¬ã§ã‚ã‚Šã€ãƒ™ãƒ³ãƒ€ãƒ¼ã‹ã‚‰ã®ææ¡ˆã‚’å—ã‘ã¦æœ€çµ‚æ±ºå®šã—ã¾ã™ã€‚</span>
    </p>

    <div class="cato-vis-wrapper">
        <div id="cato-diagram"></div>
        <div class="cato-narrative-panel">
            <h4 style="margin:0; font-size: 14px; color: var(--cato-purple);">Cato ã‚·ãƒŠãƒªã‚ªãƒ»ã‚¹ãƒ†ãƒƒãƒ—</h4>
            <div class="cato-step-card active" onclick="updateCatoScenario(1)">
                <span class="cato-step-title">1: PoP Backbone</span>
                <span class="cato-step-desc">å…¨ä¸–ç•Œ90ä»¥ä¸Šã®PoPã‚’å†—é•·å°‚ç”¨ç·šã§çµåˆã€‚ä¸ç¢ºå®Ÿæ€§ã‚’æ’é™¤ã€‚</span>
            </div>
            <div class="cato-step-card" onclick="updateCatoScenario(2)">
                <span class="cato-step-title">2: Socket è¨­ç½® (æœ¬ç¤¾+Azure)</span>
                <span class="cato-step-desc">æ±äº¬æœ¬ç¤¾(57å)ã¨Azure/AWSã«Socketã€‚æ‹ ç‚¹æ•°æœ€å°åŒ–ã€‚</span>
            </div>
            <div class="cato-step-card" onclick="updateCatoScenario(3)">
                <span class="cato-step-title">3: Client çµ±åˆ (7æ‹ ç‚¹)</span>
                <span class="cato-step-desc">ADæœ¬ç¤¾7Fãƒ»å¤šæ‘©ãƒ»æ©‹æœ¬ãƒ»å¤§é˜ªãƒ»äº¬æ©‹ãƒ»é¬¼æ€’å·ãƒ»ä»™å°ã‚’Clientæ¥ç¶šã€‚</span>
            </div>
        </div>
    </div>

    <div class="data-table-section" id="cato-detail-table" style="margin-top: 20px;">
        <h3 style="font-size: 18px; color: var(--cato-purple); border-bottom: 2px solid var(--cato-light); padding-bottom: 10px;">æ‹ ç‚¹åˆ¥ æ¥ç¶šãƒ»äººæ•°å®šç¾©æ˜ç´° (Cato SASE å…¨9æ‹ ç‚¹æ§‹æˆ)</h3>
        <table>
            <thead>
                <tr>
                    <th>æ‹ ç‚¹å</th>
                    <th>ä¼šç¤¾</th>
                    <th>æ¥ç¶šæ–¹å¼</th>
                    <th>ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•° (äºº)</th>
                    <th>å½¹å‰²</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>æ±äº¬æœ¬ç¤¾ AH (ç¯‰åœ° 6F)</strong></td>
                    <td>AH</td>
                    <td><span class="badge-socket">Cato Socket</span></td>
                    <td><strong>21</strong></td>
                    <td>ãƒ¡ã‚¤ãƒ³ãƒãƒ–ã€‚å…¨ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®åŸºç‚¹ã€‚</td>
                </tr>
                <tr>
                    <td><strong>æ±äº¬æœ¬ç¤¾ AD (ç¯‰åœ° 7F)</strong></td>
                    <td>AD</td>
                    <td><span class="badge-client">Cato Client</span></td>
                    <td><strong>36</strong></td>
                    <td>ADæœ¬ç¤¾ã€‚6Fã®SocketçµŒç”±ã§æ¥ç¶šã€‚</td>
                </tr>
                <tr>
                    <td><strong>R&Dãƒ»ç‰©æµã‚»ãƒ³ã‚¿ãƒ¼ (å¤šæ‘©)</strong></td>
                    <td>AD</td>
                    <td><span class="badge-client">Cato Client</span></td>
                    <td><strong>12</strong></td>
                    <td>é–‹ç™ºãƒ»ç‰©æµæ‹ ç‚¹ã€‚Clientæ¥ç¶šã€‚</td>
                </tr>
                <tr>
                    <td><strong>IoTé–‹ç™ºLab (æ©‹æœ¬)</strong></td>
                    <td>AD</td>
                    <td><span class="badge-client">Cato Client</span></td>
                    <td><strong>9</strong></td>
                    <td>IoTé–‹ç™ºæ‹ ç‚¹ã€‚Clientæ¥ç¶šã€‚</td>
                </tr>
                <tr>
                    <td><strong>å¤§é˜ªå–¶æ¥­æ‰€</strong></td>
                    <td>AD</td>
                    <td><span class="badge-client">Cato Client</span></td>
                    <td><strong>3</strong></td>
                    <td>è¥¿æ—¥æœ¬æ‹ ç‚¹ã€‚Clientæ¥ç¶šã€‚</td>
                </tr>
                <tr>
                    <td><strong>äº¬æ©‹ã‚ªãƒ•ã‚£ã‚¹</strong></td>
                    <td>AH</td>
                    <td><span class="badge-client">Cato Client</span></td>
                    <td><strong>5</strong></td>
                    <td>å°è¦æ¨¡æ‹ ç‚¹ã€‚ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¬ã‚¹æ§‹æˆã€‚</td>
                </tr>
                <tr>
                    <td><strong>ä»™å°äº‹å‹™æ‰€ (æ–°è¦è¿½åŠ )</strong></td>
                    <td>AD</td>
                    <td><span class="badge-client">Cato Client</span></td>
                    <td><strong>3</strong></td>
                    <td>IIJæ§‹æˆã«è¿½åŠ ã€‚ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¬ã‚¹æ§‹æˆã€‚</td>
                </tr>
                <tr>
                    <td><strong>é¬¼æ€’å· çµ†</strong></td>
                    <td>DP&R</td>
                    <td><span class="badge-client">Cato Client</span></td>
                    <td><strong>13ã€œ23</strong></td>
                    <td>ç¾å ´å®Ÿæ…‹ã‚’ç¢ºèªä¸­ï¼ˆäººäº‹å›ç­”:13åï¼‰ã€‚æ¥­å‹™NWçµ±åˆå¯¾è±¡ã€‚</td>
                </tr>
                <tr style="background: #fffbeb; border-left: 4px solid #f59e0b;">
                    <td><strong>Azure / AWS</strong></td>
                    <td>(Cloud)</td>
                    <td><span class="badge-socket" style="background: #e0f2fe; color: #0369a1;">vSocket (?)</span></td>
                    <td>N/A</td>
                    <td>
                        <strong>ç”¨é€”:</strong> ActiveDirectoryã€SECOMå…¥é€€å®¤ç®¡ç†ã‚µãƒ¼ãƒãƒ¼<br>
                        <span style="color: #f59e0b; font-weight: 700;">âš ï¸ ç¢ºèªäº‹é …: ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã¸ã®Socketè¨­ç½®æ–¹æ³•ã®æŠ€è¡“çš„è©³ç´°ã‚’ãƒ™ãƒ³ãƒ€ãƒ¼ã«ç¢ºèªã™ã‚‹å¿…è¦ã‚ã‚Š</span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Evidence Management Section -->
    <section class="section" style="margin-top: 50px;">
        <h2>ğŸ“š ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ç®¡ç†è¡¨ (Evidence Management)</h2>
        <p class="note" style="margin-bottom: 20px;">æœ¬è³‡æ–™ã®å®šç¾©ãƒ»åˆ¤æ–­ã®æ ¹æ‹ ã¨ãªã‚‹æƒ…å ±æºä¸€è¦§ã§ã™ã€‚å„æ‹ ç‚¹ã®å‡ºå…¸ç•ªå·ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚</p>
        
        <table>
            <thead>
                <tr>
                    <th style="width: 25%;">é …ç›® (Ref #)</th>
                    <th style="width: 40%;">åˆ¤æ–­å†…å®¹ (Decision)</th>
                    <th style="width: 35%;">æ ¹æ‹ ãƒ»æƒ…å ±æº (Source)</th>
                </tr>
            </thead>
            <tbody>
                <tr id="ev-1">
                    <td><strong>[1] æ³•äººæ ¼ãƒ»æœ¬ç¤¾å</strong></td>
                    <td><strong>æ ªå¼ä¼šç¤¾AKIBAãƒ›ãƒ¼ãƒ«ãƒ‡ã‚£ãƒ³ã‚°ã‚¹</strong>ãŠã‚ˆã³<strong>æ ªå¼ä¼šç¤¾ã‚¢ãƒ‰ãƒ†ãƒƒã‚¯</strong>ã‚’æ­£å¼åç§°ã¨ã—ã¦ç¢ºå®šã€‚</td>
                    <td>æœ‰ä¾¡è¨¼åˆ¸å ±å‘Šæ›¸(2025) / å…¬å¼ã‚µã‚¤ãƒˆæ¦‚è¦æ¬„</td>
                </tr>
                <tr id="ev-2">
                    <td><strong>[2] R&Dãƒ»ç‰©æµã‚»ãƒ³ã‚¿ãƒ¼</strong></td>
                    <td>æ­£å¼åç§°ã€ŒR&Dãƒ»ç‰©æµã‚»ãƒ³ã‚¿ãƒ¼ (å¤šæ‘©)ã€ã¨ã—ã¦ç¢ºå®šã€‚</td>
                    <td>æœ‰ä¾¡è¨¼åˆ¸å ±å‘Šæ›¸(2025) ç¬¬43æœŸ P.23</td>
                </tr>
                <tr id="ev-3">
                    <td><strong>[3] IoTé–‹ç™ºLab</strong></td>
                    <td>æ—§ã€Œæ©‹æœ¬ã€ã€‚å…¬å¼ã‚µã‚¤ãƒˆã«ã¦ã€ŒIoTé–‹ç™ºLabã€ã¨ã—ã¦ä½æ‰€å…¬é–‹æ¸ˆã€‚</td>
                    <td>Adtecå…¬å¼ã‚µã‚¤ãƒˆ æ‹ ç‚¹ä¸€è¦§</td>
                </tr>
                <tr id="ev-4">
                    <td><strong>[4] å¤§é˜ªå–¶æ¥­æ‰€</strong></td>
                    <td>Adtecå…¬å¼ã‚µã‚¤ãƒˆè¨˜è¼‰ã€‚BuddyNetå¤§é˜ªå–¶æ¥­æ‰€ã¨åŒä½æ‰€(åŒå±…)ã€‚</td>
                    <td>Adtecå…¬å¼ã‚µã‚¤ãƒˆ / BuddyNetå…¬å¼ã‚µã‚¤ãƒˆ</td>
                </tr>
                <tr id="ev-5">
                    <td><strong>[5] ä»™å°äº‹å‹™æ‰€</strong></td>
                    <td>Adtecå…¬å¼ã‚µã‚¤ãƒˆã«äº‹æ¥­æ‰€ã¨ã—ã¦ä½æ‰€æ˜è¨˜ã€‚æ–°è¦çµ±åˆ¶å¼·åŒ–å¯¾è±¡ã€‚</td>
                    <td>Adtecå…¬å¼ã‚µã‚¤ãƒˆ ä¼šç¤¾æ¦‚è¦</td>
                </tr>
                <tr id="ev-6">
                    <td><strong>[6] é¬¼æ€’å· çµ†</strong></td>
                    <td><strong>æ ªå¼ä¼šç¤¾ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰ãƒšãƒƒãƒ„ï¼†ãƒªã‚¾ãƒ¼ãƒˆ</strong>é‹å–¶ã®æ¸©æ³‰æ—…é¤¨ã€‚</td>
                    <td>kizuna-kinugawa.com / AHå…¬å¼ã‚µã‚¤ãƒˆ</td>
                </tr>
                <tr id="ev-7">
                    <td><strong>[7] ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åŒºåˆ†</strong></td>
                    <td>Type A (å®Œå…¨ç®¡ç†) / Type B (Secomå°‚ç”¨) ã®å®šç¾©ã€‚</td>
                    <td>ç¯ éƒ¨é•·MTGè­°äº‹éŒ² (2026/02/12)</td>
                </tr>
                <tr id="ev-8">
                    <td><strong>[8] æ±äº¬æœ¬ç¤¾ ãƒ•ãƒ­ã‚¢æ§‹æˆ</strong></td>
                    <td>6F/7F (AKIBA HDãƒ»ADTEC) ã¯æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¯¾è±¡ã€3F-5F (BN) ã¯å¯¾è±¡å¤–ã€‚</td>
                    <td>2026/02/12 ç¾å ´ãƒ’ã‚¢ãƒªãƒ³ã‚° / ãƒ•ãƒ­ã‚¢MAPæ¦‚çŠ¶</td>
                </tr>
                <tr id="ev-9">
                    <td><strong>[9] å¤§é˜ªæ‹ ç‚¹ å…±ç”¨çŠ¶æ³</strong></td>
                    <td> BuddyNetå¤§é˜ªæ”¯åº—ã¨åŒå±…ã—ã¦ã„ã‚‹ãŒ, ãƒ«ãƒ¼ã‚¿ãƒ¼ã¯ç‰©ç†çš„ã«åˆ†é›¢ã€‚</td>
                    <td>2025/12/12 IIJå•†è«‡æ™‚ è£œè¶³äº‹é …</td>
                </tr>
                <tr id="ev-10">
                    <td><strong>[10] é™¤å¤–æ‹ ç‚¹ (Type B)</strong></td>
                    <td>ç¦å²¡ã€å’Œæ­Œå±±ã€äº¬æ©‹ã€åå¤å±‹ã¯BuddyNet/SECOMå°‚ç”¨æ©Ÿã®ãŸã‚å¯¾è±¡å¤–ã€‚</td>
                    <td>ç¯ éƒ¨é•·MTGè­°äº‹éŒ² (2026/02/12)</td>
                </tr>
                <tr id="ev-11">
                    <td><strong>[11] å¾“æ¥­å“¡æ•° (ãƒ©ã‚¤ã‚»ãƒ³ã‚¹)</strong></td>
                    <td>ç®¡ç†å¯¾è±¡ã®ç·å¾“æ¥­å“¡æ•°ã¯ç´„200åï¼ˆIIJ IDç­‰ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹åŸºæº–ï¼‰ã€‚</td>
                    <td>2025/12/12 å•†è«‡æ™‚ å¡©ç”°æ§˜ç™ºè¨€</td>
                </tr>
                <tr id="ev-12">
                    <td><strong>[12] ãƒ¢ãƒã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹</strong></td>
                    <td>å¤–å‡ºå…ˆã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ã¯IIJ IDã«ã‚ˆã‚‹èªè¨¼åŸºç›¤ãŒå¿…è¦ã€‚</td>
                    <td>2025/12/12 IIJå•†è«‡è³‡æ–™ P.18</td>
                </tr>
                <tr id="ev-13">
                    <td><strong>[13] HPCãƒ†ãƒƒã‚¯ æ‰€åœ¨åœ°</strong></td>
                    <td>HPCãƒ†ãƒƒã‚¯ã¯<strong>æ—¥æœ¬æ©‹å¯Œæ²¢ç”º7-13 æ´‹å’Œãƒ“ãƒ«4éš</strong>ã€‚ç¯‰åœ°æœ¬ç¤¾ã¨ã¯åˆ¥æ‹ ç‚¹ã€‚</td>
                    <td>HPCãƒ†ãƒƒã‚¯å…¬å¼ã‚µã‚¤ãƒˆ ä¼šç¤¾æ¦‚è¦ / ç™»è¨˜æƒ…å ±</td>
                </tr>


            </tbody>
        </table>
    </section>

    <footer>
        &copy; 2026 Akiba Holdings System Division | Project: SD-WAN Renewal
    </footer>
</div>

    </main>

<script>
    // --- Common Settings ---
    const drag = (simulation) => {
        function dragstarted(event) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            event.subject.fx = event.subject.x;
            event.subject.fy = event.subject.y;
        }
        function dragged(event) {
            event.subject.fx = event.x;
            event.subject.fy = event.y;
        }
        function dragended(event) {
            if (!event.active) simulation.alphaTarget(0);
            event.subject.fx = null;
            event.subject.fy = null;
        }
        return d3.drag().on("start", dragstarted).on("drag", dragged).on("end", dragended);
    };

    // --- 1. Scope Diagram (Section 1) ---
    const initScopeDiagram = () => {
        const container = document.getElementById('scope-diagram');
        const width = container.clientWidth;
        const height = container.clientHeight;
        const svg = d3.select("#scope-diagram").append("svg").attr("width", width).attr("height", height);

        // Integrated HQ & Balanced Readability
        const nodes = [
            // Tsukiji HQ Cluster
            { id: "hub", label: "AH æœ¬ç¤¾ (6F)", group: "ah", type: "hub", fx: width * 0.45, fy: height * 0.48 },
            { id: "ad_hq_dummy", label: "AD æœ¬ç¤¾ (7F)", group: "ad", type: "hub", fx: width * 0.45, fy: height * 0.52 },
            { id: "buddynet", label: "BN æœ¬ç¤¾ (3-5F/é™¤å¤–)", group: "bn", type: "group", fx: width * 0.45, fy: height * 0.56 },

            { id: "kyobashi", label: "æ±äº¬äº¬æ©‹", group: "bn", type: "site", fx: width * 0.6, fy: height * 0.65 },
            { id: "rnd", label: "å¤šæ‘© (R&D)", group: "ad", type: "site", fx: width * 0.25, fy: height * 0.55 },
            { id: "hashimoto", label: "æ©‹æœ¬ (IoT Lab)", group: "ad", type: "site", fx: width * 0.2, fy: height * 0.4 },
            { id: "kinugawa", label: "é¬¼æ€’å· çµ†", group: "dpr", type: "site", fx: width * 0.65, fy: height * 0.25 },
            { id: "sendai", label: "ä»™å°äº‹å‹™æ‰€", group: "ad", type: "site", fx: width * 0.8, fy: height * 0.1 },
            { id: "osaka", label: "å¤§é˜ªå–¶æ¥­æ‰€", group: "ad", type: "site", fx: width * 0.2, fy: height * 0.8 },
            { id: "nagoya", label: "åå¤å±‹", group: "bn", type: "site", fx: width * 0.35, fy: height * 0.75 },
            { id: "wakayama", label: "å’Œæ­Œå±±CC", group: "bn", type: "site", fx: width * 0.1, fy: height * 0.9 },
            { id: "fukuoka", label: "ç¦å²¡å–¶æ¥­æ‰€", group: "bn", type: "site", fx: width * 0.05, fy: height * 0.6 },
            { id: "hpc_tech", label: "HPCãƒ†ãƒƒã‚¯ (æ—¥æœ¬æ©‹)", group: "hpc", type: "site", fx: width * 0.35, fy: height * 0.4 }
        ];

        const colors = { ah: "#1a73e8", ad: "#4caf50", dpr: "#e91e63", bn: "#ff9800", hpc: "#00acc1" };

        const links = [
            { source: "hub", target: "osaka", type: "managed" },
            { source: "hub", target: "rnd", type: "managed" },
            { source: "hub", target: "hashimoto", type: "managed" },
            { source: "hub", target: "sendai", type: "managed" },
            { source: "hub", target: "kinugawa", type: "managed" },
            { source: "buddynet", target: "fukuoka", type: "unmanaged" },
            { source: "buddynet", target: "wakayama", type: "unmanaged" },
            { source: "buddynet", target: "kyobashi", type: "unmanaged" },
            { source: "buddynet", target: "nagoya", type: "unmanaged" },
            { source: "hub", target: "buddynet", type: "unmanaged" }
        ];

        const sim = d3.forceSimulation(nodes)
            .force("link", d3.forceLink(links).id(d => d.id).distance(150))
            .force("charge", d3.forceManyBody().strength(-300))
            .force("collide", d3.forceCollide().radius(80))
            .force("y", d3.forceY(height / 2).strength(0.05));

        const link = svg.append("g").selectAll("line").data(links).join("line")
            .attr("stroke", "#999").attr("stroke-opacity", 0.6).attr("stroke-width", d => d.type === "managed" ? 2 : 1).attr("stroke-dasharray", d => d.type === "managed" ? "0" : "5,5");

        const node = svg.append("g").attr("stroke", "#fff").attr("stroke-width", 1.5).selectAll("circle").data(nodes).join("circle")
            .attr("r", d => d.type === "hub" ? 20 : 10)
            .attr("fill", d => colors[d.group] || "#bdbdbd").call(drag(sim));

        // Adding Legend inside container
        d3.select("#scope-diagram").selectAll(".sc-legend").remove(); // Clean up
        d3.select("#scope-diagram").append("div").attr("class", "sc-legend").html(`
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.ah}"></div>AH (AKIBA)</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.ad}"></div>AD (ADTEC)</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.dpr}"></div>DP&R (é¬¼æ€’å·)</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.bn}"></div>BN (Buddy)</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.hpc}"></div>HPC Tech</div>
        `);
        const label = svg.append("g").selectAll("text").data(nodes).join("text")
            .attr("dx", d => d.id.includes("hub") || d.id.includes("hq") || d.id === "buddynet" ? 25 : 0)
            .attr("dy", d => d.id.includes("hub") || d.id.includes("hq") || d.id === "buddynet" ? 5 : 40)
            .attr("text-anchor", d => d.id.includes("hub") || d.id.includes("hq") || d.id === "buddynet" ? "start" : "middle")
            .text(d => d.label).style("font-size", "15px").style("font-weight", "900").style("fill", "#0f172a");

        sim.on("tick", () => {
            link.attr("x1", d => d.source.x).attr("y1", d => d.source.y).attr("x2", d => d.target.x).attr("y2", d => d.target.y);
            node.attr("cx", d => d.x).attr("cy", d => d.y);
            label.attr("x", d => d.x).attr("y", d => d.y);
        });

        // Global function for scope stepper
        window.updateScenario = (step) => {
            document.querySelectorAll('.sub-step').forEach((btn, idx) => {
                btn.classList.toggle('active', idx + 1 === step);
            });
            const narrativeTitle = document.querySelector('.narrative-title');
            const narrativeText = document.getElementById('narrative-text');
            
            if (step === 1) {
                narrativeTitle.textContent = "Step 1: ç¾çŠ¶ (å…¨ä½“åƒ)";
                narrativeText.innerHTML = "Akiba Holdingsã‚°ãƒ«ãƒ¼ãƒ—å…¨ä½“ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹æˆã§ã™ã€‚å„ç¤¾ï¼ˆAH, AD, DP&Rï¼‰ã«åŠ ãˆã€ãƒãƒ‡ã‚£ãƒãƒƒãƒˆï¼ˆBNï¼‰ãŒæ··åœ¨ã—ã¦ã„ã¾ã™ã€‚";
                node.transition().duration(500).attr("fill", d => colors[d.group] || "#bdbdbd").style("opacity", 1);
                link.transition().duration(500).style("opacity", 0.6);
            } else {
                narrativeTitle.textContent = "Step 2: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¯¾è±¡ç¯„å›² (9æ‹ ç‚¹)";
                narrativeText.innerHTML = "<strong>ä»Šå›åˆ·æ–°ã‚’æ¤œè¨ã—ã¦ã„ã‚‹å¯¾è±¡ç¯„å›²</strong>ã§ã™ã€‚AH, AD, DP&Rã®<strong style='color: #1a73e8;'>9æ‹ ç‚¹</strong>ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¾ã™ã€‚";
                node.transition().duration(500).attr("fill", d => (d.group === "ah" || d.group === "ad" || d.group === "dpr") ? colors[d.group] : "#e0e0e0").style("opacity", d => (d.group === "ah" || d.group === "ad" || d.group === "dpr") ? 1 : 0.3);
                link.transition().duration(500).style("opacity", d => d.type === "managed" ? 1 : 0.1);
            }
        };
        window.updateScenario(1);
    };

    // --- 2. Cato Diagram (Section 5) ---
    const initCatoDiagram = () => {
        const container = document.getElementById('cato-diagram');
        if (!container) return;
        const width = container.clientWidth;
        const height = container.clientHeight;
        const svg = d3.select("#cato-diagram").append("svg").attr("width", width).attr("height", height);

        const nodes = [
            { id: "pop", label: "Cato PoP", group: "cato", type: "pop", fx: width * 0.5, fy: height * 0.5 },
            { id: "internet", label: "Internet/SaaS", group: "cato", type: "internet", fx: width * 0.5, fy: height * 0.15 },
            { id: "hub", label: "æ±äº¬æœ¬ç¤¾ (57å)", group: "ah", type: "socket", fx: width * 0.3, fy: height * 0.45 },
            { id: "osaka", label: "å¤§é˜ª (3å)", group: "ad", type: "socket", fx: width * 0.2, fy: height * 0.7 },
            { id: "rnd", label: "å¤šæ‘© (12å)", group: "ad", type: "socket", fx: width * 0.15, fy: height * 0.5 },
            { id: "hashimoto", label: "æ©‹æœ¬ (9å)", group: "ad", type: "socket", fx: width * 0.1, fy: height * 0.6 },
            { id: "sendai", label: "ä»™å° (3å)", group: "ad", type: "client", fx: width * 0.8, fy: height * 0.2 },
            { id: "kyobashi", label: "äº¬æ©‹ (5å)", group: "bn", type: "client", fx: width * 0.85, fy: height * 0.4 },
            { id: "kinugawa", label: "é¬¼æ€’å· (13å)", group: "dpr", type: "client", fx: width * 0.7, fy: height * 0.15 }
        ];

        const links = [
            { source: "pop", target: "internet", type: "backbone" },
            { source: "hub", target: "pop", type: "socket" },
            { source: "osaka", target: "pop", type: "socket" },
            { source: "rnd", target: "pop", type: "socket" },
            { source: "hashimoto", target: "pop", type: "socket" },
            { source: "sendai", target: "pop", type: "client" },
            { source: "kyobashi", target: "pop", type: "client" },
            { source: "kinugawa", target: "pop", type: "client" }
        ];

        const sim = d3.forceSimulation(nodes).force("link", d3.forceLink(links).id(d => d.id).distance(100));

        const link = svg.append("g").selectAll("line").data(links).join("line")
            .attr("stroke", d => d.type === "socket" ? "#7b1fa2" : "#a855f7")
            .attr("stroke-width", 2)
            .attr("stroke-dasharray", d => d.type === "client" ? "4,3" : "0");

        const colors = { ah: "#1a73e8", ad: "#4caf50", dpr: "#e91e63", bn: "#ff9800", hpc: "#00acc1" };

        const node = svg.append("g").attr("stroke", "#fff").attr("stroke-width", 1.5).selectAll("circle").data(nodes).join("circle")
            .attr("r", d => d.type === "hub" ? 15 : 6).attr("fill", d => colors[d.group] || "#bdbdbd").call(drag(sim));

        d3.select("#cato-diagram").selectAll(".sc-legend").remove(); // Clean up
        d3.select("#cato-diagram").append("div").attr("class", "sc-legend").html(`
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.ah}"></div>AH (AKIBA)</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.ad}"></div>AD (ADTEC)</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.dpr}"></div>DP&R (é¬¼æ€’å·)</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.bn}"></div>BN (Buddy)</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.hpc}"></div>HPC Tech</div>
        `);

        const label = svg.append("g").selectAll("text").data(nodes).join("text")
            .attr("dx", d => d.id.includes("hub") || d.id.includes("hq") || d.id === "buddynet" ? 25 : 0)
            .attr("dy", d => d.id.includes("hub") || d.id.includes("hq") || d.id === "buddynet" ? 5 : 40)
            .attr("text-anchor", d => d.id.includes("hub") || d.id.includes("hq") || d.id === "buddynet" ? "start" : "middle")
            .text(d => d.label).style("font-size", "15px").style("font-weight", "900").style("fill", "#0f172a");

        sim.on("tick", () => {
            link.attr("x1", d => d.source.x).attr("y1", d => d.source.y).attr("x2", d => d.target.x).attr("y2", d => d.target.y);
            node.attr("cx", d => d.x).attr("cy", d => d.y);
            label.attr("x", d => d.x).attr("y", d => d.y);
        });

        window.updateCatoScenario = (subStep) => {
            document.querySelectorAll('.cato-step-card').forEach((c, idx) => c.classList.toggle('active', idx + 1 === subStep));
            node.transition().duration(500).style("opacity", d => {
                if (subStep === 1) return (d.id === "pop" || d.id === "internet") ? 1 : 0.2;
                if (subStep === 2) return (d.type === "socket" || d.id === "pop") ? 1 : 0.2;
                if (subStep === 3) return (d.type === "client" || d.id === "pop") ? 1 : 0.2;
                return 1;
            });
            link.transition().duration(500).style("opacity", d => {
                if (subStep === 1) return d.type === "backbone" ? 1 : 0.1;
                if (subStep === 2) return d.type === "socket" ? 1 : 0.1;
                if (subStep === 3) return d.type === "client" ? 1 : 0.1;
                return 1;
            });
        };
        window.updateCatoScenario(1);
    };

    // --- 3. IIJ Managed Diagram (Section 1.2) ---
    const initIIJDiagram = () => {
        const container = document.getElementById('iij-diagram');
        if (!container) return;
        const width = container.clientWidth;
        const height = container.clientHeight;
        const svg = d3.select("#iij-diagram").append("svg").attr("width", width).attr("height", height);

        const nodes = [
            { id: "hub", label: "ç¯‰åœ°æœ¬ç¤¾ (AH/AD)", group: "ah", type: "hub", fx: width * 0.45, fy: height * 0.5 }, // Router
            { id: "osaka", label: "AD å¤§é˜ª", group: "ad", type: "site", fx: width * 0.2, fy: height * 0.75 }, // Router
            { id: "rnd", label: "AD å¤šæ‘©", group: "ad", type: "site", fx: width * 0.25, fy: height * 0.55 }, // Router
            { id: "hashimoto", label: "AD æ©‹æœ¬", group: "ad", type: "site", fx: width * 0.2, fy: height * 0.4 }, // Router
            { id: "nagoya", label: "BN åå¤å±‹", group: "bn", type: "site", fx: width * 0.35, fy: height * 0.7 }, // Router
            { id: "fukuoka", label: "BN ç¦å²¡", group: "bn", type: "site", fx: width * 0.1, fy: height * 0.65 }, // Router
            { id: "wakayama", label: "BN å’Œæ­Œå±±", group: "bn", type: "site", fx: width * 0.15, fy: height * 0.85 }, // Router
            { id: "kyobashi", label: "BN äº¬æ©‹", group: "bn", type: "site", fx: width * 0.65, fy: height * 0.7 }, // Router
            { id: "azure", label: "IIJ GIO", group: "hpc", type: "cloud", fx: width * 0.1, fy: height * 0.1 } // Cloud
        ];

        const links = nodes.filter(n => n.id !== "hub").map(n => ({ source: "hub", target: n.id }));

        const colors = { ah: "#1a73e8", ad: "#4caf50", dpr: "#e91e63", bn: "#ff9800", hpc: "#0078d4" };
        const sim = d3.forceSimulation(nodes).force("link", d3.forceLink(links).id(d => d.id).distance(150));

        svg.append("g").selectAll("line").data(links).join("line")
            .attr("stroke", "#1a73e8").attr("stroke-width", 2.5).attr("stroke-opacity", 0.4);

        const node = svg.append("g").attr("stroke", "#fff").attr("stroke-width", 2).selectAll("circle").data(nodes).join("circle")
            .attr("r", d => d.type === "hub" ? 22 : (d.type === "client" ? 8 : 12)) // Smaller radius for clients
            .attr("stroke-dasharray", d => d.type === "client" ? "2,2" : "none") // Dashed stroke for clients
            .attr("fill", d => colors[d.group] || "#bdbdbd").call(drag(sim));

        svg.append("g").selectAll("text").data(nodes).join("text")
            .attr("dx", d => d.id === "hub" || d.id === "ad_hq" ? 30 : 0)
            .attr("dy", d => d.id === "hub" || d.id === "ad_hq" ? 5 : 35)
            .attr("text-anchor", d => d.id === "hub" || d.id === "ad_hq" ? "start" : "middle")
            .text(d => d.label).style("font-size", "14px").style("font-weight", "900").style("fill", "#0f172a");

        d3.select("#iij-diagram").append("div").attr("class", "sc-legend").html(`
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.ah}"></div>AH</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.ad}"></div>AD</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.bn}"></div>BN</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.hpc}"></div>IIJ GIO</div>
        `);

        sim.on("tick", () => {
            svg.selectAll("line").attr("x1", d => d.source.x).attr("y1", d => d.source.y).attr("x2", d => d.target.x).attr("y2", d => d.target.y);
            node.attr("cx", d => d.x).attr("cy", d => d.y);
            svg.selectAll("text").attr("x", d => d.x).attr("y", d => d.y);
        });
    };

    // --- 4. Cato Scope Diagram (Section 1.3) ---
    const initCatoScopeDiagram = () => {
        const container = document.getElementById('cato-scope-diagram');
        if (!container) return;
        const width = container.clientWidth;
        const height = container.clientHeight;
        const svg = d3.select("#cato-scope-diagram").append("svg").attr("width", width).attr("height", height);

        const nodes = [
            { id: "hub", label: "ç¯‰åœ°æœ¬ç¤¾ (57å)", group: "ah", type: "hub", fx: width * 0.45, fy: height * 0.5 }, // Socket
            { id: "kyobashi", label: "AH äº¬æ©‹ (5å)", group: "ah", type: "client", fx: width * 0.65, fy: height * 0.7 }, // Client
            { id: "rnd", label: "AD å¤šæ‘© (12å)", group: "ad", type: "site", fx: width * 0.25, fy: height * 0.55 }, // Socket
            { id: "hashimoto", label: "AD æ©‹æœ¬ (9å)", group: "ad", type: "site", fx: width * 0.2, fy: height * 0.4 }, // Socket
            { id: "osaka", label: "AD å¤§é˜ª (3å)", group: "ad", type: "site", fx: width * 0.2, fy: height * 0.75 }, // Socket
            { id: "sendai", label: "AD ä»™å° (3å)", group: "ad", type: "client", fx: width * 0.75, fy: height * 0.25 }, // Client
            { id: "kinugawa", label: "DP&R é¬¼æ€’å· (13å)", group: "dpr", type: "client", fx: width * 0.65, fy: height * 0.3 }, // Client
            { id: "azure", label: "Azure / AWS", group: "hpc", type: "cloud", fx: width * 0.1, fy: height * 0.1 }, // vSocket
            { id: "pop", label: "Cato Cloud", group: "cato", type: "pop", fx: width * 0.45, fy: height * 0.2 } // Cloud
        ];

        const links = nodes.filter(n => n.id !== "pop").map(n => ({ source: "pop", target: n.id, type: n.type }));

        const colors = { ah: "#1a73e8", ad: "#4caf50", dpr: "#e91e63", hpc: "#0078d4", cato: "#7b1fa2" };
        const sim = d3.forceSimulation(nodes).force("link", d3.forceLink(links).id(d => d.id).distance(150));

        const link = svg.append("g").selectAll("line").data(links).join("line")
            .attr("stroke", "#7b1fa2")
            .attr("stroke-width", d => d.type === "client" ? 1.5 : 2.5)
            .attr("stroke-dasharray", d => d.type === "client" ? "4,4" : "none")
            .attr("stroke-opacity", 0.6);

        const node = svg.append("g").attr("stroke", "#fff").attr("stroke-width", 2).selectAll("circle").data(nodes).join("circle")
            .attr("r", d => d.type === "pop" ? 30 : (d.type === "hub" ? 22 : (d.type === "client" ? 8 : 12)))
            .attr("fill", d => colors[d.group] || "#bdbdbd").call(drag(sim));

        svg.append("g").selectAll("text").data(nodes).join("text")
            .attr("dx", d => d.id === "pop" ? 0 : (d.id === "hub" ? 30 : 0))
            .attr("dy", d => d.id === "pop" ? 5 : (d.id === "hub" ? 5 : 35))
            .attr("text-anchor", d => d.id === "pop" || d.type === "client" || d.type === "site" ? "middle" : "start")
            .text(d => d.label).style("font-size", "14px").style("font-weight", "900").style("fill", "#0f172a");

        d3.select("#cato-scope-diagram").append("div").attr("class", "sc-legend").html(`
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.cato}"></div>Cato PoP</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.ah}"></div>AH</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.ad}"></div>AD</div>
            <div class="sc-legend-item"><div class="sc-legend-dot" style="background: ${colors.dpr}"></div>DP&R</div>
        `);

        sim.on("tick", () => {
            link.attr("x1", d => d.source.x).attr("y1", d => d.source.y).attr("x2", d => d.target.x).attr("y2", d => d.target.y);
            node.attr("cx", d => d.x).attr("cy", d => d.y);
            svg.selectAll("text").attr("x", d => d.x).attr("y", d => d.y);
        });
    };

    // Initialize all
    initScopeDiagram();
    initIIJDiagram();
    initCatoScopeDiagram();
    initCatoDiagram();
</script>
</body>
</html>
